/*! Baoshuo's OI Blog (7dad1e4) | Baoshuo ( https://baoshuo.ren ) */
!function(e,n){var t,r,o=e.currentScript.getAttribute("data-db")||"/search.json",a=new URL(n.href).searchParams.get("q"),i=function(n){return e.getElementById(n)},l=i("result"),c=function(e){return'<p>你也可以前往 <a href="https://www.google.com/search?q='+encodeURIComponent("site:"+n.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">Google</a> 或 <a href="https://www.bing.com/search?q='+encodeURIComponent("site:"+n.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">Bing</a> 搜索「<a href="https://www.google.com/search?q='+encodeURIComponent("site:"+n.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">'+e+"</a>」。</p>"},s=function(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","…":"&hellip;"};return e.replace(/[&<>"]/g,(function(e){return n[e]||e}))},u=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")};if("content"in e.createElement("template"))if(a)t=(new Date).getTime(),i("input").value=a,i("search-tips").style.display="none",i("search-loading").style.display=null,fetch(o,{cache:"force-cache",mode:"cors"}).then((function(e){return e.json()})).then((function(n){return function(n,o){n.length<=32&&setTimeout((function(){return window.plausible&&window.plausible("Search",{props:{query:n}})}),0);var a=i("result-template").content,h=[],p=n.trim().split(/[\s\-]+/).map(s),f=p.map((function(e){return e.toLowerCase()})),m=new RegExp(p.map(u).join("|"),"gi");o.forEach((function(n){if(n.title&&n.content){var t=n.title,r=n.content,o=n.tags,i=n.categories,l=t.toLowerCase(),c=r.toLowerCase(),s=o&&o.map((function(e){return e.toLowerCase()}))||[],u=i&&i.map((function(e){return e.toLowerCase()}))||[],g=-1,d=-1,w=0,v=0,y=0;if(f.forEach((function(e){var n=l.indexOf(e),t=c.indexOf(e),r=s.indexOf(e),o=u.indexOf(e);if((n>=0||t>=0||r>=0||o>=0)&&w++,r>=0&&v++,o>=0&&y++,w>0){var a=c.lastIndexOf(e);t>=0&&(g=g<0?t:Math.min(g,t)),a>=0&&(d=d<0?a:Math.max(d,a))}})),!(w!==p.length&&w<2)){var L,b,C,M=0,T=0;g>=0&&(M=Math.max(g-10,0)),d>=0&&(C=Math.min(d+10,r.length)),C-M<50&&(C=M+300),b=r.substring(M,C);var q=function(e,n){var t=0;return e.replace(m,(function(e){return T+=t>0?n*(1+t/10):1*n,t++,"<mark>"+e+"</mark>"}))};L=q(t,4),b=q(b,1),T+=2*v,T+=3*y,a.querySelector("a").href=n.url,a.querySelector("[data-title]").innerHTML=L,a.querySelector("[data-content]").innerHTML=b,h.push({content:e.importNode(a,!0),weight:T})}}})),h=h.sort((function(e,n){return n.weight-e.weight})),r=(new Date).getTime();var g="<small>（耗时 "+Number(r-t)+" 毫秒）</small>";i("search-loading").remove(),h.length?(l.innerHTML='<div class="result-info">找到 '+h.length+" 条结果"+g+"</div>",h.forEach((function(e){return l.appendChild(e.content)}))):l.innerHTML="<p>未找到任何结果，请尝试搜索其他关键字。"+g+"</p>"+c(n)}(a,n)})).catch((function(e){return function(e,n){i("search-tips").innerHTML='<p>出错了，请 <a href="javascript:location.reload()">重试</a>。</p>'+c(e),i("search-tips").style.display=null,i("search-loading").style.display="none",console.error(n)}(a,e)}));else{var h=e.createElement("link");h.rel="prefetch",h.as="fetch",h.href=o,e.head.appendChild(h)}else l.innerHTML='<p>您当前使用的浏览器不支持 HTML5 标准中的 <code>&lt;template&gt;</code> 标签。</p><p>推荐使用最新版的 <a href="https://google.cn/chrome/" target="_blank" rel="external noopener nofollow">Google Chrome 浏览器</a> 访问本站。</p>'}(document,location);