/*! Baoshuo's OI Blog | Build: f737146 | Baoshuo ( https://baoshuo.ren ) */
"use strict";((M,t)=>{let a,r;const e=new URL(t),n=e.searchParams.get("q"),l=e=>M.getElementById(e),s=l("result"),i=e=>'<p>你也可以前往 <a href="https://www.google.com/search?q='+encodeURIComponent("site:"+t.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">Google</a> 或 <a href="https://www.bing.com/search?q='+encodeURIComponent("site:"+t.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">Bing</a> 搜索「<a href="https://www.google.com/search?q='+encodeURIComponent("site:"+t.hostname+" "+e)+'" target="_blank" rel="nofollow noopener noreferrer">'+e+"</a>」。</p>",c=e=>{var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","…":"&hellip;"};return e.replace(/[&<>"]/g,e=>t[e]||e)},p=e=>e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");if(!1 in M.createElement("template"))s.innerHTML='<p>您当前使用的浏览器不支持 HTML5 标准中的 <code>&lt;template&gt;</code> 标签。</p><p>推荐使用最新版的 <a href="https://google.cn/chrome/" target="_blank" rel="external noopener nofollow">Google Chrome 浏览器</a> 访问本站。</p>';else if(n)a=(new Date).getTime(),l("input").value=n,l("search-tips").style.display="none",l("search-loading").style.display=null,fetch("/search.json").then(e=>e.json()).then(e=>((e,t)=>{setTimeout(()=>window.plausible&&window.plausible("Search",{props:{query:e}}),0);const y=l("result-template")["content"];let L=[];const n=e.trim().split(/[\s\-]+/).map(c),o=n.map(e=>e.toLowerCase()),C=new RegExp(n.map(p).join("|"),"gi");t.forEach(p=>{if(p.title&&p.content){const{title:m,content:g,tags:e,categories:t}=p,d=m.toLowerCase(),f=g.toLowerCase(),w=e&&e.map(e=>e.toLowerCase())||[],u=t&&t.map(e=>e.toLowerCase())||[];let r=-1,l=-1,s=0,i=0,c=0;if(o.forEach(e=>{var t=d.indexOf(e),n=f.indexOf(e),o=w.indexOf(e),a=u.indexOf(e);(0<=t||0<=n||0<=o||0<=a)&&s++,0<=o&&i++,0<=a&&c++,0<s&&(e=f.lastIndexOf(e),0<=n&&(r=r<0?n:Math.min(r,n)),0<=e&&(l=l<0?e:Math.max(l,e)))}),!(s!==n.length&&s<2)){let e,t,n=0,o,a=0;0<=r&&(n=Math.max(r-10,0)),0<=l&&(o=Math.min(l+10,g.length)),o-n<50&&(o=n+300),t=g.substring(n,o);var h=(e,t)=>{let n=0;return e=e.replace(C,e=>(a+=0<n?t*(1+n/10):+t,n++,"<mark>"+e+"</mark>"))};e=h(m,4),t=h(t,1),a+=2*i,a+=3*c,y.querySelector("a").href=p.url,y.querySelector("[data-title]").innerHTML=e,y.querySelector("[data-content]").innerHTML=t,L.push({content:M.importNode(y,!0),weight:a})}}}),L=L.sort((e,t)=>t.weight-e.weight),r=(new Date).getTime();t="<small>（耗时 "+Number(r-a)+" 毫秒）</small>";l("search-loading").remove(),L.length?(s.innerHTML='<div class="result-info">找到 '+L.length+" 条结果"+t+"</div>",L.forEach(e=>s.appendChild(e.content))):s.innerHTML="<p>未找到任何结果，请尝试搜索其他关键字。"+t+"</p>"+i(e)})(n,e)).catch(e=>((e,t)=>{l("search-tips").innerHTML='<p>出错了，请 <a href="javascript:location.reload()">重试</a>。</p>'+i(e),l("search-tips").style.display=null,l("search-loading").style.display="none",console.error(t)})(n,e));else{let e=M.createElement("link");e.rel="prefetch",e.as="fetch",e.href="/search.json",M.head.appendChild(e)}})(document,location);